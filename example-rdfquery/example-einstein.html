<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"> </script>
  <script type="text/javascript" src="dist/jquery.rdfquery.core-1.0.js"></script>
  <script type="text/javascript" src="dist/jquery.rdfquery.rules-1.0.js"></script>
  <script type="text/javascript" src="dist/jquery.rdfquery.rdfa-1.0.js"></script>
  <title>Example rdf-query</title>
</head>
<body>
	<p id="info">This example is written by <span rel="dc:creator" resource="#me"><span property="foaf:name">Renato Stauffer</span>.</span></p>
<div id="content">
<div id="albert" about="http://dbpedia.org/resource/Albert_Einstein" typeof="foaf:Person">
  <span property="foaf:name">Albert Einstein</span>
  <span property="dbp:dateOfBirth" datatype="xsd:date">1879-03-14</span>
  <div rel="dbp:birthPlace" resource="http://dbpedia.org/resource/German_Empire">
  <span about="http://dbpedia.org/resource/German_Empire"
    property="dbp:conventionalLongName">the German Empire</span>
</div>
</div>
</div>
<script type="text/javascript">

var store = $('#info').rdf();

$('#info')
  .rdf()
  .prefix('foaf', 'http://xmlns.com/foaf/0.1/')
  .where('?person a foaf:Person')
  .optional('?person foaf:name ?name')
  .each(function () {
    console.log("here");
    var 
      person = this.person.value,
      name = this.name === undefined ? '' : this.name.value;
      console.log(person + " name: " + name);
  });
  console.log(store);
</script>
</body>
</html>